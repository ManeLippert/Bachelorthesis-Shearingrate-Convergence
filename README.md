# Convergence of Wavelength in Zonal Flow Potential

##### Bachelor Thesis about Zonal Flows

![alt text](/pictures/Zonal_Flow.PNG)



## Content

1. [Introduction](#introduction)
2. [Journal](#journal)
3. [Results](#results)

    3.1 [Juypter Notebooks](#juypter-notebooks)

4. [Literature](#literature)



## Introduction 
This repository is focused on my work for my Bachelor Thesis in Zonal Flows and the convergence of the wavelength with the box size. This Thesis is based on the works of Rath,F. and Peeters,A. G. and Buchholz,R. and Grosshauser,S. R. and Migliano,P. and Weikl,A. and Strintzi,D.

* [gkw-Code](https://bitbucket.org/gkw/gkw/wiki/Home)
* In this repository is my own version of [gkw](/gkw/) for this thesis with according changes
* LaTeX-Code of my [Bachelor Thesis](/bachelorthesis) and the [Thesis](/bachelorthesis/ZonalFlow.pdf) 



## Journal
I will document my work in from of a journal and to keep track of all changes i will use [Source Control from GitHub](https://github.com/ManeLippert/Bachelorthesis-ZonalFlows/commits/main).

* <details><summary>March</summary>
  <p>

    * <details><summary>24.03.2022 &nbsp; Starting Meeting</summary>
      <p>
        
      # Starting Meeting
        
      #### Thursday 24.03.2022 from 14:00 to 14:25 with Florian Rath and Arthur Peeters

      ### Discussion how to begin the work for bachelor thesis:

      * Start with reproduction of result in [[1]](/literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Gradient-driven%20flux-tube%20simulations%20of%20ion%20temperature%20gradient%20turbulence%20close%20to%20the%20non-linear%20threshold%20(Paper%2C%202016).pdf) with help of [gkw](/gkw/)
      * Because of the long runtime of the code firstly we will look only in one direction in the velocity space
      * After that small steps in all directions for better understanding of the structure and to find a minimal resolution for the best results 
      * Furthermore increase box size and search for convergence of the wavelength in zonal flows
      * There will be interpretation needed to clarify simplification steps in code

      ### Thesis
      * Work in English or German > will do it in English
      * Continues writing is better than everything in the end
     
     </p>
     </details>

  </p>
  </details>

* <details><summary>April</summary>
  <p>

  * <details><summary>07.04.2022 &nbsp; Kurs "Schreiben einer MINT-Arbeit"</summary>
    </p>
    
    # Kurs "Schreiben einer MINT-Arbeit"

    #### Dienstag 07.04.2022 von 9:00 bis 15:00

    ## Inhalt
    * [Feststellung des Schreibtyps](#feststellung-des-schreibtyps)
    * [Störfaktorem](#störfaktoren)
    * [Phasen des Schreibprozesses](#phasen-des-schreibprozesses)
    * [Fragestellung/Forschungsfrage](#fragestellungforschungsfrage)
    * [Gliederung](#gliederung)
    * [Materialen](#materialen)
    * [Rohtext](#rohtext)
    * [Wissenschaftlicher Schreibstil](#wissenschaftlicher-schreibstil)
    * [Illustrationen](#illustrationen)
    * [Zitieren](#zitieren)
    * [Beleg im Text](#beleg-im-text)
    * [Methoden der Organisation und Planung](#methoden-zur-organisation-und-planung)

    ## Feststellung des Schreibtyps

    ![FragenSchreibtyp1](/pictures/HowToMINT/Schreibtypentest-1.png)
    ![FragenSchreibtyp2](/pictures/HowToMINT/Schreibtypentest-2.png)
    ![FragenSchreibtypAuswertung1](/pictures/HowToMINT/Schreibtypentest-3.png)
    ![FragenSchreibtypAuswertung2](/pictures/HowToMINT/Schreibtypentest-4.png)

    ## Störfaktoren

    * **Zeitdiebe** &rarr; Prokrastination am Handy?
    * **Schreiborte** &rarr; Feststellen wo die besten Schreiborte für einen sind &rarr; Draußen bei schönen Wetter
    * **Schreibzeiten** &rarr; Morgen, Nachmittags oder Abends &rarr; Nachmittags oder Abends

    ## Phasen des Schreibprozesses
    1. Orientierung und Planung
    2. Strukturieren, gliedern, forschen/lesen
    3. Material auswerten, Rohfassung schreiben
    4. Überarbent und Feedback einholen
    5. Schlusskorrektur und Abgabe

    ## Fragestellung/Forschungsfrage

    Grenzt Thema ein und leitet fokussiert durch die Arbeit

    ![Forschungsfrage1](/pictures/HowToMINT/AB1_Forschungsfrage-1.png)
    ![Forschungsfrage2](/pictures/HowToMINT/AB1_Forschungsfrage-2.png)

    ![ForschungsfrageHandout](/pictures/HowToMINT/Handout_Forschungsfrage.png)


    ## Gliederung

    * **Einleitung** &rarr; Hinführung, Problemstellung. Fragestellung (thematisieren), Methodik, Aufbau, Hauptergebnisse
    * **Methoden** &rarr; Zustandekommen der Ergebnisse, Grund für Glaubwürdigkeit (Auch Materialen)
    * **Ergebnisse** &rarr; Ausformulierung und Darstellung
    * **Diskussion** &rarr; Bezug auf Ergebnisse, dann breiter Fokus (Rückbezug zur Problemstellung)

    ## Materialen
    Quellen und Literatur frühzeitig dokumentieren (auch Anmerkungen möglich)

    ## Rohtext
    * Erstefassung eines Textes
    * Noch ungeschliffen
    * Macht as den Gedanken etwas Konkretes
    * Nimmt den Druck alles beim ersten Schreiben perfekt zu machen
    * Liefert Grundlage für weitere Schritte
    * Mehrfache Überarbeitungen machen den Rohtext zu einen abgereiften Text

    ## Wissenschaftlicher Schreibstil

    * Sachlich und Neutral
    * Logische Argumentation und Aufbau (roter Faden) &rarr; Forschungsfrage
    * Überprüfbarkeit und Nachvollziehbarkeit (Zitation)
    * Korrekte Verwendung von Fachbegriffen
    * Einheitlichkeit
       
    <br />
    
    ![Schreibstil](/pictures/HowToMINT/AB2_Schreibstil_%C3%9Cbung.png)

    ## Illustrationen
    ![Illu](/pictures/HowToMINT/Handout_Illustrations.png)

    ## Zitieren

    ### Faustregel
    1. Überhaupt zitieren
    2. Einheitlich zitieren
    3. Vorgaben beachten
    
    <br />
    
    Es gibt aber nicht den einen Zitierstil. Dieser kann sich von Fach zu Fach ändern.

    ### **WICHTIG**
    * Nachprüfbarkeit und Nachvollziehbarkeit
    * Einwandfreies zitieren &rarr; Ausdruck für wissenschaftliche Sorgfalt
    * Nachweis über über eigenständige Leitung &rarr; Trennung der Aussagen
    * Lesbarkeit &rarr; Mehr wissenschaftliche Form

    ### 1. Wörtliches/Direktes Zitat
    * Wörtliche Übernahme von Textpassagen, Sätzen, Satzteilen und Ausdrücken
    * Beginnt und endet mit Anführungszeichen
    * Längere Zitate werden i.d.R. eingerückt
    * Buchstabliche Genauigkeit 
    * Evtl. kursive Schrift, kleinere Schriftart, Absatz mit Einrückung und einzeiliger Abstand

    ### 2. Paraphrase/Indirektes Zitat
    * Sinngemäße Übernahme fremder Gedanken/Aussagen mit eigenen Worten
    * Ohne Anführungszeichen
    * Umfang muss eindeutig erkennbar sein 
    * Eventuell Zusatz "vgl."

    ### Beleg im Text
    &rarr; Verweis wird in Klammern hinter dem Zitat angefügt, gefolgt von einem Punkt: 

    &nbsp;  &nbsp; &nbsp;.....(Vgl. Eco, 2010, S.204). (**Vor dem Punkt**)

    &rarr; Wenn Autoren explizit erwähnt wurden, folgt die Quelle direkt hinter dem Namen: 

    &nbsp;  &nbsp; &nbsp;.....Eco (2010, S.204)

    &rarr; Verweis mit Fußnote. Jede Fußnote beginnt mit einem Großbuchstaben und endet mit einem Punkt. Zahl der Fußnote folgt hinter dem Punkt

    &nbsp;  &nbsp; &nbsp;.....xyz.³

    ___
    &nbsp;  &nbsp; &nbsp;³Vgl. Eco, 2010, S.204.

    ## Methoden zur Organisation und Planung

    ![Orga1](/pictures/HowToMINT/Methodenhandout_WS%20Orga%20und%20Planen-1.png)
    ![Orga2](/pictures/HowToMINT/Methodenhandout_WS%20Orga%20und%20Planen-2.png)
    ![Orga3](/pictures/HowToMINT/Methodenhandout_WS%20Orga%20und%20Planen-3.png)

    </p>
    </details>
    
  </p>
  </details>

* <details><summary>May</summary>
  <p>

  * <details><summary>05.05.2022 &nbsp; Start with Bachelor Work</summary>
    <p>

    # Start with Bachelor Work

    #### Thursday 24.03.2022 from 14:00 to 14:27 with Florian Rath and Arthur Peeters

    ### Discussion on how to run the code:

    #### Login:

    * Login on local machine through ```x2go``` because ```ssh``` is too slow. 
    * When someone uses login through ```ssh``` the command line is shrunk down to a limited amount of executables that results in no ```make``` command. To get full access to the command line one has too ```ssh``` to ```bpptx```

    #### Cluster:

    * ```btrzx1``` is easier to run code 
    * ```btrzx3``` could cause problems with the nodes but is more efficient than ```btrzx1```

    Run code first on ```btrzx1``` with [```bashrc_btrzx1```](/gkw/run_btrzx1/bashrc_btrzx1) (loads all modules for ```GKW```) with jobmanager ```SLURM``` (started with ```sbatch```) and jobscript [```jobscript_btrzx1_simple```](/gkw/run_btrzx1/jobscript_btrzx1_simple).

    #### Sync Files:

    From local to remote machine
    ```
    scp -r Bachelorthesis-ZonalFlows/gkw/ user@btrzx1-1.rz.uni-bayreuth.de:gkw/
    ```
    From remote to local
    ```
    scp -r user@btrzx1-1.rz.uni-bayreuth.de:gkw/ Bachelorthesis-ZonalFlows/gkw/ 
    ```

    on Linux account just use ```git``` protocol

    ### What to do first:

    * Use test cases with adiabatic electrons
    * Work with spectral and non-spectral (cheaper, but steps in heat production not reproducible) and compare the time duration
    * In [paper](/literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Comparison%20of%20gradient%20and%20flux%20driven%20gyro-%0Akinetic%20turbulent%20transport%20(Paper%2C%202016).pdf) they used spectral 
    * Compare spectral outcome with [paper](/literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Comparison%20of%20gradient%20and%20flux%20driven%20gyro-%0Akinetic%20turbulent%20transport%20(Paper%2C%202016).pdf)
    * Verify the decrease of turbulence and heat flux on work point (condition of this bachelor thesis)

    </p>
    </details>

  * <details><summary>10.05.2022 &nbsp; First Day in the Office in Bayreuth</summary>
    <p>

    # First Day in the Office in Bayreuth

    #### Thusday 10.05.2022 from 10:00 to 17:30

    ### First Run with gkw
    For the first run I used the [input.dat.minimum](https://github.com/ManeLippert/Bachelorthesis-ZonalFlows/blob/main/gkw/doc/input.dat.minimum) that gaves me the examination files in the ```~/gkw/run``` directory. For futher examination I will use ```python``` on my local machine.

    ### Discussion with Florian Rath

    * Run ```gkw``` with configuration (S6) from [[1]](/literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Gradient-driven%20flux-tube%20simulations%20of%20ion%20temperature%20gradient%20turbulence%20close%20to%20the%20non-linear%20threshold%20(Paper%2C%202016).pdf) page 2

    Use [```cyclone```](https://github.com/ManeLippert/Bachelorthesis-ZonalFlows/blob/main/gkw/doc/input/cyclone) as basis ```input.dat``` and change parameter according (S6)

    * Save data as ```hdf5``` (8 times more compact than ```ASCII```). ```python``` can read files easily 

    * As diagnostic run ```xy_phi``` to get data from [[1]](/literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Gradient-driven%20flux-tube%20simulations%20of%20ion%20temperature%20gradient%20turbulence%20close%20to%20the%20non-linear%20threshold%20(Paper%2C%202016).pdf) page 8 pictures

    ```
    !------------------------------------------------------------------------------------------------------------------------
    &CONTROL
    zonal_adiabatic = .true.,               !If zonal flows corrections included for adiabiatic electrons       (default = F)

    order_of_the_zf_scheme = 'sixth_order'  !Use a different finite-differences scheme for (default = order_of_the_scheme)

    D      = disp_par = 1.0                 !(Hyper) dissipation coefficient for parallel derivatives.          (default=0.2)
    D_vpar = disp_vp  = 0.2                 !(Hyper) dissipation coefficient for parallel velocity space        (default=0.2)
    D_x    = disp_x   = 0.1                 !(Hyper) dissipation coefficient in perpendicular x direction       (default=0.0)
    D_y    = disp_y   = 0.1                 !(Hyper) dissipation coefficient in perpendicular y direction       (default=0.0)

    io_format = 'hdf5'                      ! Use 'ascii' to output all data as formatted text files      (default = 'mixed')
                                            !     'binary' to output all data as unformatted binary files
                                            !     'mixed' to output some binary and mostly text files
                                            !     'hdf5' to output a single HDF5 file (needs compilation with HDF5 libraries)
                                            !     'hdf5+ascii' to output a single HDF5 file and duplicate 1D and 2D data to
                                            !         formatted text files.
                                            !     'none' to output no data at all.
    /
    !------------------------------------------------------------------------------------------------------------------------
    &GRIDSIZE
    N_m    = NMOD        = 21               !Number of binormal modes - do not interact for linear runs
    N_x    = NX          = 83               !Number of radial wave vectors / points: needs to be an odd number for spectral
    N_s    = N_s_grid    = 16               !Number of grid points along the field line
    N_vpar = n_vpar_grid = 64               !Number of grid points for parallel velocity (must be even)
    N_mu   = N_mu_grid   = 9                !Total number of magnetic moment grid points
    /
    !------------------------------------------------------------------------------------------------------------------------
    &MODE
    mode_box = .true.,                      !Determines if there is a 2D grid of ky,kx. if true use nperiod = 1 (default = F)
                                            !If nperiod = 1 and mode box = .true. the kx modes will be coupled.
    krhomax = 1.4,                          !For mode_box, this is the maximum k_theta rho_i (ky) on the grid.(default = 0.0)
                                            !For nmod>1, modes are equidistantly spaced from 0.0 to to krhomax.
                                            !k_perp is evaluated on the low field side of the outboard midplane.
                                            !rho_i evaluated on the flux surface at the major radius of the magnetic axis.
                                            !Note that other codes may normalise the thermal velocity differently
                                            !which can correspond to  gkw k_theta that are a factor sqrt(2) greater.
    /
    !------------------------------------------------------------------------------------------------------------------------
    &SPECIES
    rlt = 6.0
    /
    !------------------------------------------------------------------------------------------------------------------------
    &GEOM
    GEOM_TYPE = 'circ'                      !Switch for the metric: 's-alpha', 'circ', 'miller', 'fourier' or 'chease'   
                                            !(default = 's-alpha')
    /
    !------------------------------------------------------------------------------------------------------------------------
    &DIAGNOSTIC
    xy_phi = .true.                         ! Electrostatic potential in perpendicular plane at LFS midplane    (default = T)
    /
    !------------------------------------------------------------------------------------------------------------------------
    &LINEAR_TERM_SWITCHES                   
    v_d = idisp = 1                         !Select between dissipation schemes in finite differences 
    /
    ```
    </p>
    </details>

  * <details><summary>11.05.2022 &nbsp; Run for Standard Resolution 6th order (S6)</summary>
    <p>

    # Run for Standard Resolution 6th order (S6)

    #### Wednesday 11.05.2022 9:45 to 13:30

    ### New Input file

    [```input_S6_rtl6.dat```](../data/S6_rlt6.0/Nsgrid16_Nvpargrid64_Nmugrid9/input.dat)

    On ```btrzx1``` the maximal available processors are 32 so that you have to determine additional values. Furthermore ```gkw``` needs time to write files and the maximal runtime should be 15min less than the ```walltime```. On ```btrzx1``` the ```walltime``` is set to 24h (maximum duration). Lastly I set the parameter for the timesteps for writing checkpoint files in ```ndump_ts```.

    #### Conditions:
    * ```N_procs_mu``` < ```N_mu_grid```
    * ```N_procs_vpar``` * ```N_procs_s``` != 32
    * ```max_seconds``` = ```walltime``` - 900


    ```
    !------------------------------------------------------------------------------------------------------------------------
    &CONTROL
    zonal_adiabatic = .true.,               !If zonal flows corrections included for adiabiatic electrons       (default = F)

    order_of_the_zf_scheme = 'sixth_order'  !Use a different finite-differences scheme for (default = order_of_the_scheme)

    D      = disp_par = 1.0                 !(Hyper) dissipation coefficient for parallel derivatives.          (default=0.2)
    D_vpar = disp_vp  = 0.2                 !(Hyper) dissipation coefficient for parallel velocity space        (default=0.2)
    D_x    = disp_x   = 0.1                 !(Hyper) dissipation coefficient in perpendicular x direction       (default=0.0)
    D_y    = disp_y   = 0.1                 !(Hyper) dissipation coefficient in perpendicular y direction       (default=0.0)

    io_format = 'hdf5'                      ! Use 'ascii' to output all data as formatted text files      (default = 'mixed')
                                            !     'binary' to output all data as unformatted binary files
                                            !     'mixed' to output some binary and mostly text files
                                            !     'hdf5' to output a single HDF5 file (needs compilation with HDF5 libraries)
                                            !     'hdf5+ascii' to output a single HDF5 file and duplicate 1D and 2D data to
                                            !         formatted text files.
                                            !     'none' to output no data at all.

    ndump_ts=500                   !Number of large timesteps between writing of checkpoint DMP files    

    max_seconds = 85500            ! 24h = 86400s 15min = 900s -> 85500
    /
    !------------------------------------------------------------------------------------------------------------------------
    &GRIDSIZE
    N_m    = NMOD        = 21               !Number of binormal modes - do not interact for linear runs
    N_x    = NX          = 83               !Number of radial wave vectors / points: needs to be an odd number for spectral
    N_s    = N_s_grid    = 16               !Number of grid points along the field line
    N_vpar = n_vpar_grid = 64               !Number of grid points for parallel velocity (must be even)
    N_mu   = N_mu_grid   = 9                !Total number of magnetic moment grid points

    N_procs_mu   = 3                        !As above, but for mu                                              
    N_procs_vpar = 8                        !As above, but for vpar (>1 only works if vp_trap = 0)             
    N_procs_s    = 4                        !As above, but for s
    /
    !------------------------------------------------------------------------------------------------------------------------
    &MODE
    mode_box = .true.,                      !Determines if there is a 2D grid of ky,kx. if true use nperiod = 1 (default = F)
                                            !If nperiod = 1 and mode box = .true. the kx modes will be coupled.
    krhomax = 1.4,                          !For mode_box, this is the maximum k_theta rho_i (ky) on the grid.(default = 0.0)
                                            !For nmod>1, modes are equidistantly spaced from 0.0 to to krhomax.
                                            !k_perp is evaluated on the low field side of the outboard midplane.
                                            !rho_i evaluated on the flux surface at the major radius of the magnetic axis.
                                            !Note that other codes may normalise the thermal velocity differently
                                            !which can correspond to  gkw k_theta that are a factor sqrt(2) greater.
    /
    !------------------------------------------------------------------------------------------------------------------------
    &SPECIES
    rlt = 6.0
    /
    !------------------------------------------------------------------------------------------------------------------------
    &GEOM
    GEOM_TYPE = 'circ'                      !Switch for the metric: 's-alpha', 'circ', 'miller', 'fourier' or 'chease'   
                                            !(default = 's-alpha')
    /
    !------------------------------------------------------------------------------------------------------------------------
    &DIAGNOSTIC
    xy_phi = .true.                         ! Electrostatic potential in perpendicular plane at LFS midplane    (default = T)
    /
    !------------------------------------------------------------------------------------------------------------------------
    &LINEAR_TERM_SWITCHES                   
    v_d = idisp = 1                         !Select between dissipation schemes in finite differences 
    /
    ```

    In the input file is also more options that are provided by Florian Rath. For example the option that ```gkw``` will automatically write restart files and additional DIAGNOSTICS.

    ### Jobscript

    #### Conditions:
    * ```SBATCH --nodes=N_procs_mu*N_procs_vpar*N_procs_s``` = 96
    * ```SBATCH --ntasks-per-node=32```
    * ```SBATCH --nodes=3``` = 32 * 3 = 96
    * ```SBATCH --time=0-24:00:00```

    [```jobscript_btrzx1_S6```](../gkw/btrzx1/jobscript_btrzx1_S6)

    </p>
    </details>

  * <details><summary>12.05.2022 &nbsp; Discussion about Resolution & Run for (S6) with rtl=6.3</summary>
    <p>

    # Discussion about Resolution

    #### Thursday 24.03.2022 from 14:00 to 14:25 with Florian Rath and Arthur Peeters

    ### Minimum Values

    WIP so we will try to find the best minimum resolution

    * ```N_s_grid``` = 12
    * ```N_vpar_grid``` = 16 or 32
    * ```N_mu_grid``` = 6

    Numeric dissipation gains with smaller scales of resolution that could cause the **lost** of zonal flows

    ### ```Python``` Program

    * Write ```python``` program to evaluate the ```xy_phi``` diagnostics and symbolize 'Scherrrate' and heat flux
    * Learn how to evaluate ```h5``` files

    # Run for (S6) with rtl=6.3

    [```input_S6_rtl6.3.dat```](../data/S6_rtl6.3/input.dat)

    [```jobscript_btrzx1_S6```](../data/S6_rtl6.3/jobscript_btrzx1)

    </p>
    </details>

  * <details><summary>16.05.2022 &nbsp; Writing of useful shell scripts</summary>
    <p>

    # Writing of useful shell scripts

    #### Monday 16.05.2022 13:15 to 23:00

    ## Shell Scripts
    * [```ssh_btrzx1```](../ssh/ssh_btrzx1.sh) turns automatically the vpn connection on and connects to ```btrzx1-1.rz.uni-bayreuth.de```

    * [```ssh_copy```](../ssh/ssh_copy.sh) useful copy script to copy files from remote to local or in the other direction

    </p>
    </details>

  * <details><summary>20.05.2022 &nbsp; Discussion about evaluation of the shearing rate $\omega_{\mathrm{E \times B}}$</summary>
    <p>

    # Discussion about evaluation of the shearing rate

    #### Friday 20.05.2022 12:00 to 12:15 with Florian Rath and Arthur Peeters

    ## Coordinate

    The coordinate ```x``` is in the ```h5```-file marked as ```xphi``` and is the radial coordinate

    ## Derivative

    The derivative is periodic which means that at the start point $f_0$ the other two points for derivative would be $f_{N}$ and $f_1$ and at the end point $f_{N}$ the other two points would be $f_{N-1}$ and $f_0$.\
    \
    That concludes to the formula:\
    \
    Start: $\frac{f_1 - 2 \cdot f_0 + f_N}{h^2}$\
    \
    Middle: $\frac{f_{i+1} - 2 \cdot f_i + f_{i-1}}{h^2}$\
    \
    End: $\frac{f_{0} - 2 \cdot f_N + f_{N-1}}{h^2}$

    ## Additional Diagnostic

    Use fourier spetrum as additional diagnostic to evaluate the shearing rate $\omega_{\mathrm{E \times B}}$ like in Fig 5a in [[1]](../literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Gradient-driven%20flux-tube%20simulations%20of%20ion%20temperature%20gradient%20turbulence%20close%20to%20the%20non-linear%20threshold%20(Paper%2C%202016).pdf)

    </p>
    </details>

  </p>
  </details>

* <details><summary>June</summary>
  <p>

  * <details><summary>08.06.2022 &nbsp; Resolution, Folder Structure and Comparison of Resolution</summary>
    <p>

    # Resolution, Folder Structure and Comparison of Resolution

    #### Wednesday 08.06.2022

    ## Resolution

    Best resolution: 

    ```Nsgrid = 16```, ```Nvpar = 48```, ```Nmugrid = 9```

    Possible Variations: 

    * ```krhomax = 0.70 | nmod = 11```
    * ```krhomax = 1.05 | nmod = 16```
    * ```nx = 63```, ```nx = 43```

    ## New Folder Structure

    Every change in ```input.dat``` gets it own folder and the evaluation notebook write changes in picture name. Furthermore the notebook will write with python the picture folder.

    ## Comparison of Resolution

    * ```Nsgrid = 12/16``` | ```Nvpargrid = 64```, ```Nmugrid = 9``` | ```Nvpargrid = 48```, ```Nmugrid = 9```
    * ```Nvpargrid = 64/48/32/16``` | ```Nsgrid = 16```, ```Nmugrid = 9``` 
    * ```Nmugrid = 6/9``` | ```Nvpargrid = 64```, ```Nsgrid = 16``` | ```Nvpargrid = 48```, ```Nsgrid = 16```

    </p>
    </details>

  * <details><summary>09.06.2022 &nbsp; Meeting to increase Boxsize</summary>
    <p>

    # Meeting to increase Boxsize

    #### Thursday 09.06.2022 14:00 to 14:30 with Florian Rath and Arthur Peeters

    ## Change Timestep
    Set ```dtim = 0.02``` to ```dtim = 0.025``` and compare outcome with $\delta t$. The graph should decrease vor ```dtim```.
    ```dtim``` is a timestep measured with gkw.

    ## Final Resolution

    ```Nsgrid = 16```, ```Nvpar = 48```, ```Nmugrid = 9```

    ## Increase Boxsize

    Change following variables according to increase factor $N$:

    * ```ikx_space_N``` $= 5 * N$
    * ```nx_N``` $= [($ ```nx_1``` $-1 ) * N ] +1$ 

    Boxsize 1x1: `nx_1` = 83, &nbsp; `ikx_space_1` = 5\
    Boxsize 2x1: `nx_2` = 165, `ikx_space_2` = 10\
    Boxsize 3x1: `nx_3` = 247, `ikx_space_3` = 15\
    Boxsize 2x1: `nx_4` = 329, `ikx_space_4` = 20

    </p>
    </details>

  </p>
  </details>



## Results

### Juypter Notebooks

<pre>
data
├── S6_rlt6.0
│   ├── boxsize1x1
│   │   ├── Ns12
│   │   │   ├── Nvpar16
│   │   │   │   └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns12/Nvpar16/Nmu6/eval.ipynb">Nmu6</a>
│   │   │   ├── Nvpar32
│   │   │   │   └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns12/Nvpar32/Nmu6/eval.ipynb">Nmu6</a>
│   │   │   ├── Nvpar48
│   │   │   │   └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns12/Nvpar48/Nmu9/eval.ipynb">Nmu9</a>
│   │   │   └── Nvpar64
│   │   │       └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns12/Nvpar64/Nmu9/eval.ipynb">Nmu9</a>
│   │   ├── Ns16
│   │   │   ├── Nvpar16
│   │   │   │   └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar16/Nmu9/eval.ipynb">Nmu9</a>
│   │   │   ├── Nvpar32
│   │   │   │   └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar32/Nmu9/eval.ipynb">Nmu9</a>
│   │   │   ├── Nvpar48
│   │   │   │   ├── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar48/Nmu6/eval.ipynb">Nmu6</a>
│   │   │   │   └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar48/Nmu9/eval.ipynb">Nmu9</a>
│   │   │   │       ├── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar48/Nmu9/dtim0.025/eval.ipynb">dtim0.025</a>
│   │   │   │       ├── krhomax0.70
│   │   │   │       │   └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar48/Nmu9/krhomax0.70/Nmod11/eval.ipynb">Nmod11</a>
│   │   │   │       ├── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar48/Nmu9/nx43/eval.ipynb">nx43</a>
│   │   │   │       └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar48/Nmu9/nx63/eval.ipynb">nx63</a>
│   │   │   └── Nvpar64
│   │   │       ├── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar64/Nmu6/eval.ipynb">Nmu6</a>
│   │   │       └── <a href="/data/S6_rlt6.0/boxsize1x1/Ns16/Nvpar64/Nmu9/eval.ipynb">Nmu9</a>
│   │   └── <a href="/data/S6_rlt6.0/boxsize1x1/compare_resolution.ipynb">Comparison of Resolution</a>
│   ├── boxsize2x1
│   │   └── Ns16
│   │       └── Nvpar48
│   │           └── <a href="/data/S6_rlt6.0/boxsize2x1/Ns16/Nvpar48/Nmu9/eval.ipynb">Nmu9</a>
│   ├── boxsize2x2
│   │   └── Ns16
│   │       └── Nvpar48
│   │           └── <a href="/data/S6_rlt6.0/boxsize2x2/Ns16/Nvpar48/Nmu9/eval.ipynb">Nmu9</a>
│   ├── boxsize3x1
│   │   └── Ns16
│   │       └── Nvpar48
│   │           └── <a href="/data/S6_rlt6.0/boxsize3x1/Ns16/Nvpar48/Nmu9/eval.ipynb">Nmu9</a>
│   ├── boxsize3x3
│   │   └── Ns16
│   │       └── Nvpar48
│   │           └── <a href="/data/S6_rlt6.0/boxsize3x3/Ns16/Nvpar48/Nmu9/eval.ipynb">Nmu9</a>
│   ├── boxsize4x1
│   │   └── Ns16
│   │       └── Nvpar48
│   │           └── <a href="/data/S6_rlt6.0/boxsize4x1/Ns16/Nvpar48/Nmu9/eval.ipynb">Nmu9</a>
│   └── <a href="/data/S6_rlt6.0/compare_boxsize.ipynb">Comparison of Boxsize</a>
├── S6_rlt6.2
│   └── boxsize2x2
│       └── Ns16
│           └── Nvpar64
│               └── <a href="/data/S6_rlt6.2/boxsize2x2/Ns16/Nvpar64/Nmu9/eval.ipynb">Nmu9</a>
├── S6_rlt6.3
│   └── boxsize1x1
│       └── Ns16
│           └── Nvpar64
│               └── <a href="/data/S6_rlt6.3/boxsize1x1/Ns16/Nvpar64/Nmu9/eval.ipynb">Nmu9</a>
└── <a href="/data/compare_gradient_length.ipynb">Comparison of Gradient Length</a>
</pre>

## Literature
[[1]](/literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Gradient-driven%20flux-tube%20simulations%20of%20ion%20temperature%20gradient%20turbulence%20close%20to%20the%20non-linear%20threshold%20(Paper%2C%202016).pdf) Peeters, A. G., Rath, F., Buchholz, R., Camenen, Y., Candy, J., Casson,F. J., Grosshauser, S. R., Hornsby, W. A., Strintzi, D. & Weikl, A. "Gradient-driven flux-tube simulations of ion temperature gradient turbulence close tothe non-linear threshold"

[[2]](/literature/Peeters%2C%20Rath%2C%20Buchholz%20-%20Comparison%20of%20gradient%20and%20flux%20driven%20gyro-%0Akinetic%20turbulent%20transport%20(Paper%2C%202016).pdf) Rath, F., Peeters, A. G., Buchholz, R., Grosshauser, S. R., Migliano, P.,Weikl, A. & Strintzi, D. "Comparison of gradient and flux driven gyro-kineticturbulent transport"

[[3]](/literature/manual/GKW_manual_0.4-b1.pdf) Peeters, A. G., Buchholz, R., Camenen, Y., Casson, F. J., Grosshauser, S., Hornsby, W. A., Manas, P., Migliano, P., Siccinio, M., Snodin, A. P., Strintzi, D., Sung, T., Szepesi, G. & Zarzoso, D. "GKW how and why"

[[4]](/literature/Diamond%20-%20Zonal%20flows%20in%20plasma%20-%20a%20review%20(Review%2C%202005).pdf) Diamond, P. H., Itoh, S-I., Itoh, K. & Hahm, T. S. "Zonal flows in plasma—a review"

[[5]](/literature/Garbet%20-%20Gyrokinetic%20simulations%20of%20turbulent%20transport%20(Review%2C%202010).pdf) Garbet, X., Idomura, Y., Villard, L. & Watanabe, T.H. "Gyrokinetic simulations of turbulent transport"